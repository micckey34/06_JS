<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FOX</title>
    <link rel="stylesheet" href="css/animals.css">
</head>

<body>
    <div class="main" id="img-box">

    </div>
    <div class="text"><input type="text" id="text"></div>
    <div class="btn">
        <button id="next">NEXT</button>
        <button id="share">SHARE</button>
        <button id="back">BACK</button>
    </div>
    <script src="jquery-3.5.1.min.js"></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyApA-l0cFQWkGR0Ua9-AUk_2NRsOMpCRZs",
            authDomain: "js-battle-5a060.firebaseapp.com",
            databaseURL: "https://js-battle-5a060.firebaseio.com",
            projectId: "js-battle-5a060",
            storageBucket: "js-battle-5a060.appspot.com",
            messagingSenderId: "248650620062",
            appId: "1:248650620062:web:3c02d43b37289d05192f8f"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>
    <script>
        let img = ['img/fox/1.jpg',
            'img/fox/2.jpg',
            'img/fox/4.jpg',
            'img/fox/5.jpg',
            'img/fox/6.jpg',
            'img/fox/7.jpg',
            'img/fox/8.jpg',
            'img/fox/9.jpg',
            'img/fox/10.jpg',
            'img/fox/11.jpg',
            'img/fox/12.jpg',
            'img/fox/13.jpg',
            'img/fox/14.jpg',
            'img/fox/15.jpg',
            'img/fox/16.jpg',
            'img/fox/17.jpg',
            'img/fox/18.jpg',
            'img/fox/19.jpg',
            'img/fox/20.jpg',
            'img/fox/21.jpg',
            'img/fox/22.jpg',
            'img/fox/23.jpg',
            'img/fox/24.jpg',
            'img/fox/25.jpg',
            'img/fox/26.jpg',
            'img/fox/27.jpg',
            'img/fox/28.jpg',
            'img/fox/29.jpg',
            'img/fox/30.jpg',
            'img/fox/31.jpg',
            'img/fox/32.jpg',
            'img/fox/33.jpg',
            'img/fox/34.jpg',
            'img/fox/35.jpg',
            'img/fox/36.jpg',
            'img/fox/37.jpg',
            'img/fox/38.jpg',
            'img/fox/39.jpg',
            'img/fox/40.jpg',
            'img/fox/41.jpg',
            'img/fox/42.jpg',
            'img/fox/43.jpg',
            'img/fox/44.jpg',
            'img/fox/45.jpg',
            'img/fox/46.jpg',
            'img/fox/47.jpg',
            'img/fox/48.jpg',
            'img/fox/49.jpg',
            'img/fox/50.jpg',
            'img/fox/51.jpg',
            'img/fox/52.jpg',
            'img/fox/53.jpg',
            'img/fox/54.jpg',
            'img/fox/55.jpg',
            'img/fox/56.jpg',
            'img/fox/57.jpg',
            'img/fox/58.jpg',
            'img/fox/59.jpg',
            'img/fox/60.jpg',
            'img/fox/61.jpg',
            'img/fox/62.jpg',
            'img/fox/63.jpg',
            'img/fox/64.jpg',
            'img/fox/65.jpg',
            'img/fox/66.jpg',
            'img/fox/67.jpg',
            'img/fox/68.jpg',
            'img/fox/69.jpg',
            'img/fox/70.jpg',
            'img/fox/71.jpg',
            'img/fox/72.jpg',
            'img/fox/73.jpg',
            'img/fox/74.jpg',
            'img/fox/75.jpg',
            'img/fox/76.jpg',
            'img/fox/77.jpg',
            'img/fox/78.jpg',
            'img/fox/79.jpg',
            'img/fox/80.jpg',
            'img/fox/81.jpg',
            'img/fox/82.jpg',
            'img/fox/83.jpg',
            'img/fox/84.jpg',
            'img/fox/85.jpg',
            'img/fox/86.jpg',
            'img/fox/87.jpg',
            'img/fox/88.jpg',
            'img/fox/89.jpg',
            'img/fox/90.jpg',
            'img/fox/91.jpg',
            'img/fox/92.jpg',
            'img/fox/93.jpg',
            'img/fox/94.jpg',
            'img/fox/95.jpg',
            'img/fox/96.jpg',
            'img/fox/97.jpg',
            'img/fox/98.jpg',
            'img/fox/99.jpg',
            'img/fox/100.jpg',
            'img/fox/101.jpg',
            'img/fox/102.jpg',
            'img/fox/103.jpg',
            'img/fox/104.jpg',
            'img/fox/105.jpg',
            'img/fox/106.jpg',
            'img/fox/107.jpg',
            'img/fox/108.jpg',
            'img/fox/109.jpg',
            'img/fox/110.jpg',
            'img/fox/111.jpg',
            'img/fox/112.jpg',
            'img/fox/113.jpg',
            'img/fox/114.jpg',
            'img/fox/115.jpg',
            'img/fox/116.jpg',
            'img/fox/117.jpg',
            'img/fox/118.jpg',
            'img/fox/119.jpg',
            'img/fox/120.jpg',
            'img/fox/121.jpg',
            'img/fox/122.jpg',
            'img/fox/123.jpg',
            'img/fox/124.jpg',
            'img/fox/125.jpg',
        ];
        var random = Math.floor(Math.random() * img.length);
        var output = "<img src=" + img[random] + ">";
        $('#img').html(output);
        $('#next').on('click', function() {
            var random = Math.floor(Math.random() * img.length);
            var output = '<img id="img" src=' + img[random] + '>';
            $('#img-box').html(output);
        })
        const db = firebase.firestore().collection('share_img');
        $('#share').on('click', function() {
            const share_url = 'https://micckey34.github.io/06_JS/html/animal/' + $('#img').attr('src');
            console.log(share_url);
            const img = {
                img: share_url,
                text: $('#text').val(),
                time: firebase.firestore.FieldValue.serverTimestamp(),
            }
            db.add(img);
        })
        $('#back').on('click', function() {
            window.location.href = '../animal.html';
        });
    </script>
</body>

</html>